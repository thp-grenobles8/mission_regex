<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta charset="utf-8">
    <title>REX_Regex</title>

    <!-- fontAwesome -->
    <link rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
    integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
    crossorigin="anonymous">

    <!-- css -->
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/code.css">

    <link rel="stylesheet" href="./css/codePrettifyThemes/gui3.css">

    <!-- surcouche style -->
    <link rel="stylesheet" href="">
  </head>


  <body>

    <div id="navButton">
      <button onclick="d.toggleNav();">
        <i class="fas fa-bars fa-2x"></i>
      </button>
    </div>

    <div id="mainContainer">

      <nav id="mainNav">
        <h3>CHAPITRES</h3>
        <ul>
          <li><a href="#top">introduction (top)</a></li>
          <li><a href="#exemples">exemples</a></li>
          <li><a href="#charset">[charsets]</a></li>
          <li><a href="#nb">nombres et ranges</a></li>
          <li><a href="#shortcuts">raccourcis</a></li>
        </ul>
        <h3>LIENS utiles</h3>
        <ul>
          <p>------ pour <strong>t'entrainer :</strong></p>
          <li><a target="_blank" rel="noopener noreferrer"
            href="https://regexr.com/"><strong>Regexr.com</strong></a></li>
          <p>------ pour approfondir :</p>
          <li><a target="_blank" rel="noopener noreferrer"
            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions">
            la syntaxe</a></li>
          <li><a target="_blank" rel="noopener noreferrer"
            href="https://www.honeybadger.io/blog/ruby-regex-tricks/">
            en ruby</a></li>
          <li><a target="_blank" rel="noopener noreferrer"
            href="https://www.w3schools.com/Js/js_regexp.asp">
            en javascript</a></li>
          <p>------ pour communiquer</p>
          <li><a target="_blank" rel="noopener noreferrer"
            href="tps://thehackingproject.slack.com">
            retour au slack</a></li>
          <li><a href="https://www.thehackingproject.org/dashboard">
            retour au <strong>dashboard</strong></a></li>
        </ul>
      </nav>

      <div id="bodyContainer">
        <div id="textScroller">

          <header id="top">
            <h1>/REX-REGEX/</h1>
            <h2>ou comment devenir le <strong>roi</strong>
            des <em>expressions régulières</em></h2>
          </header>

          <article id="intro">
            <h3>introduction</h3>
            <p>Ce petit tutoriel est là pour t'apprendre ou t'entraîner
            à utiliser les "<em>expressions régulières</em>"
            aussi appelées <strong>regex</strong> ou regexp.</p>

            <p><strong>On ne verra que les bases,
            si tu veux approfondir je te donne des liens
            dans le menu a gauche</strong></p>

            <p>Regex n'est pas un langage en soi
            mais une <strong>grammaire</strong>, un ensemble de codes
            que l'on retrouve dans la pluspart des langages de programmation
            (<strong>Ruby, Python et Javascript</strong> à minima).</p>

            <p>Dans ces trois langage, la convention veut qu'on écrive
            les regex entre <strong>slashs</strong> comme ça :
            <code>/bonjour/</code> </p>
          </article>

          <article id="exemples">
            <h3>quelques exemples d'utilisation</h3>
            <p>Les regex servent à <strong>matcher</strong>
            une suite précise de caractères dans des string.
            </p>

            <p>Dans ce tuto on va se concentrer sur
            la syntaxe des regex elles mêmes, et pas
            sur leur utilisation. Mais voici <strong>quelques
            fonctions utiles pour débuter</strong>. A toi de
            découvrir les autres moyens d'utilisation
            des regex.</p>

            <h5>en Ruby</h5>
            <pre class="prettyprint linenums">
"hello my dear".match(/my/)
  #retourne un objet < matchData >
  #pratique pour une boucle IF
  #car "true" si il y a match
  #et "false" si il n'y a pas match :

if string.match(/charlie/)
  puts "charlie est dans le texte"
else
  puts "pas de charlie, cherche encore"
end

  #une autre fonction utile :
"salut toi, veux tu monter sur le toit?".scan(/toi/)
  #renverra un array de toutes les occurences trouvées
  #soit deux ici : salut "toi", veux tu monter sur le "toi"t

  #tu peux utiliser aussi gsub pour remplacer tes matches
"Adrienne n'aime pas Apollo, Adrienne aime Rocky".gsub(
  /Adrienne/, "Marcelline")
            </pre>

            <h5>en javascript</h5>
            <pre class="prettyprint linenums">
var song = "all the single ladies, all the single ladies";

  //la méthode string.search renvoie la position du premier match
song.search(/ladies/); // renvoie 15

  //similaire mais plus puissante,
  //match renvoie un objet avec l'index et la string
var match = song.match(/ladies/);
match[0]; // renvoie "ladies"
match["index"]; // renvoie 15

  //la méthode string.replace agit comme .gsub en ruby
song.replace(/ladies/g,"guys")
  /*renvoie "all the single guys, all the single guys"
  il faut mettre le "flag" //g a la fin
  sinon seul le premier match est valide
  voir le chapitre sur les flags)*/

  //mais la méthode la plus puissante est .exec
  //elle renvoie le match + sa position et son groupe
  //elle s'utilise comme ça
var regex = /ladies/; //il faut un objet regex
regex.exec(song); //la methode exec s'appelle depuis la regex
  //renvoie un objet similaire a celui du match
  //ici index = 15
regex.exec(song)
  //SAUTE sur le prochain match et renvoie un nouvel array
  //ici index = 38
regex.exec(song)
  // comme on a atteint le dernier "ladies"
  // ici l'objet renvoyé est "null"

  //exec est utile pour faire des boucles while
  //qui tournent tant qu'on a un match
  //et qu'il ne faut pas oublier d'arrêter
  //quand le match est null !!!!!
            </pre>

            <p>Tu vas me dire : "hey je peux faire ça sans regex!"
            mais c'est que j'ai cherché des <strong>mots simples</strong>
            pour l'exemple.</p>
            <p>Regex devient puissant quand tu cherches des
            <strong>combinaisons de caractères</strong></p>
          </article>



          <article id="charset">
            <h3>les [charsets]</h3>
            <p>Jusque là tout les exemples cherchaient un seul mot simple,
            tu as compris que pour faire ça en regex, il suffit de taper
            le mot tel que tu le cherche <code>/mot/</code></p>

            <p>Mais la puissance des regex n'est pas dans les mots simples.
            Supposons que tu cherches soit "tarte" soit "carte" soit "farte".</p>

            <p>En regex tu pourrais l'écrire comme ça :
            <code>/tarte|carte|farte/</code> sachant que | est l'opérateur
            <strong>OU</strong></p>

            <p>Mais une manière plus rapide est d'utiliser un
            <strong>charset</strong> comme ceci
            <code>/[ctf]arte/</code> </p>

            <p>Ma dernière regex dit : je cherche soit un c, soit
              un t, soit un f suivi de "arte"</p>

            <p>Le charset recherche <strong>UN</strong> caractère
            parmis tous les caractères qu'il contient.</p>

            <p>Tu peux <strong>inverser</strong> un charset
            comme ceci <code>/[^A0]/</code> : dans ce cas
            TOUT les charactères a l'exception du A majuscule et du 0
            matcherons ta regex.</p>

            <div class="rexConsole">
              <h2>Console de test</h2>
              <code>/<span contenteditable="true">[ctf]arte</span>/g</code>
              <pre>
                <div contenteditable="true" >
tu peux faire des tests ici
une tarte à la carte, ça farte !
essayes d'avoir ces trois là :
roule le moule en forme de poule
                </div>
              </pre>
            </div>

          </article>

          <article id="nb">
            <h3>Nombres et ranges</h3>
            <p><strong>Voyons un exemple concret</strong>,
            supposons que tu cherches à isoler les chiffres d'un texte,
            en regex tu peux utiliser un <strong>charset</strong>
            pour faire celà </p>
            <code>/[0123456789]/</code>

            <p>Ici il y aura match si le caractère est
              un 0 ou 1 ou 2... jusqu'a 9, voyez plutot :</p>

            <cite>utilise cette console pour tester tes regex,
            <strong>n'écris pas les /</strong> contente toi
            de taper le coeur de ta formule</cite>

            <div class="rexConsole">
              <h2>Console de test</h2>
              <code>/<span contenteditable="true">[0123456789]</span>/g</code>
              <pre>
                <div contenteditable="true" >
tu peux faire des tests ici
cherche les nombres 50 55 42 78 38 45656
en utilisant les trois manières
que je vais te montrer
                </div>
              </pre>
            </div>

            <p>l'exemple ci dessus est un peu long a écrire,
            tu peux le raccourcir en utilisant une <strong>range</strong></p>
            <code>/[0-9]/</code>
            <p>cette regex va tester chaque caractère et valider
            si c'est un nombre entre 0 et 9</p>

            <p>(les ranges marchent aussi pour les lettres</p>
            <p><code>/[a-z]/</code> pour les minuscules
              ou <code>/[A-Z]/</code> pour les majuscules)</p>

            <p>Enfin, pour les fainéants, il existe un raccourci :
            <code>/\d/</code> va chercher directement n'importe quel chiffre (digit) </p>

            <p>Si tu cherches un groupe de deux chiffres, il faudra faire
            <code>/\d\d/</code> </p>

          </article>

          <article id="shortcuts">
            <h3>les Raccourcis</h3>

            <p>Certains raccourcis sont très utiles,
            par exemple <code>/\d/</code> pour les chiffres</p>

            <p>En voici un autre, tu cherche n'importe quel charactère ?
            tape un point <code>/./</code> et tout les charactères seront pris a l'exception
            des retours a la ligne. Ce raccourci ne marche pas dans les charsets</p>

            <p>Tu veux les retours à la ligne ? c'est compliqué ...
            il existe 3 notations :
            <ul>
              <li>\r pour "carriage return"</li>
              <li>\n pour "new line"</li>
              <li>\r\n dans certains fichiers (sous linus notemment)</li>
            </ul>
            si tu veux couvrir les trois cas, il faut faire un petit groupe
            (je t'apprendrais les groupes plus tard, retiens juste qu'ils sont
            entre parenthèses)
            <code>/(\r|\n|\r\n)/</code>
            </p>

            <p>Un autre raccourci qui a l'air cool sur le papier c'est
            <code>/\w/</code> pour "word". En effet, il prend n'importe quel caractère
            .... sauf les accents !!! en francais, on oublie pas de le complêter
            <code>/[\wéèà...]</code>
            </p>
          </article>


          <article id="train">
            <h3>s'entraîner</h3>
            <p>Si tu veux t'entrainer, je te conseille d'ouvrir un onglet
            avec cette page
            <a href="https://regexr.com/"
            target="_blank" rel="noopener noreferrer">https://regexr.com/</a>
            pour t'entrainer a rechercher du texte facilement</p>
            <h4>Voici un texte d'entrainement</h4>
            <p>colle le dans la partie basse du site regexr.com
            pour pouvoir tester différentes regex (des chiffres aux
            adresses mail)</p>
            <pre>
  Salut la compagnie,
  THP ( https://www.thehackingproject.org ) c'est bien...   ...mais ça va un peu vite !!
  11 semaines, 55 jours de cours intensif à raison de 2 projets validants et 5 projets en tout
  et ça par semaine, plus les missions et le projet final...et on va prétendre être des "full-stack developpers" ;)

  Si vous avez des réclamations pour Charles ou Félix ou Selma n'hésitez pas a spammer bonjour@thehackingproject.org
  si vous n'aimez pas mon tuto, oubliez mon adresse (guillaume.3.7.13@gmail.com) (de toute façons c'est une boite à spams)
            </pre>
          </article>

        </div> <!--textScroller-->
        <footer>
          <a href="https://www.thehackingproject.org">
            The Hacking Project
          </a>
        </footer>

      </div> <!--bodyContainer-->

    </div> <!--mainContainer-->

  </body>

  <script type="text/javascript" src="./js/display.js"></script>
  <script type="text/javascript" src="./js/rexConsole.js"></script>

  <!-- code-prettify (google) -->
  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>

</html>
